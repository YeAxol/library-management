<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Parameters</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <style>
        table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        th, td { border: 1px solid #ccc; padding: 0.5rem; }
        th { background: #f0f0f0; }
        form.inline { display: inline; }
    </style>
</head>
<body>
    {% include 'header.html' %}
    <main>
        <h2>Library Parameters</h2>

        <!-- Mediums Section -->
        <section>
            <h3>Mediums</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for medium in mediums %}
                    <tr>
                        <form class="inline" method="post" action="{{ url_for('edit_medium', medium_id=medium[0]) }}">
                            <td>
                                <input type="text" name="medium_name" value="{{ medium[1] }}" required>
                            </td>
                            <td>
                                <button type="submit" name="action" value="update">Update</button>
                                <button type="submit" name="action" value="delete" onclick="return confirm('Delete this medium?')">Delete</button>
                            </td>
                        </form>
                    </tr>
                    {% endfor %}
                    <tr>
                        <form class="inline" method="post" action="{{ url_for('add_medium') }}">
                            <td>
                                <input type="text" name="medium_name" placeholder="New medium" required>
                            </td>
                            <td>
                                <button type="submit" name="action" value="add">Add</button>
                            </td>
                        </form>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Genres Section -->
        <section>
            <h3>Genres</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for genre in genres %}
                    <tr>
                        <form class="inline" method="post" action="{{ url_for('edit_genre', genre_id=genre[0]) }}">
                            <td>
                                <input type="text" name="genre_name" value="{{ genre[1] }}" required>
                            </td>
                            <td>
                                <button type="submit" name="action" value="update">Update</button>
                                <button type="submit" name="action" value="delete" onclick="return confirm('Delete this genre?')">Delete</button>
                            </td>
                        </form>
                    </tr>
                    {% endfor %}
                    <tr>
                        <form class="inline" method="post" action="{{ url_for('add_genre') }}">
                            <td>
                                <input type="text" name="genre_name" placeholder="New genre" required>
                            </td>
                            <td>
                                <button type="submit" name="action" value="add">Add</button>
                            </td>
                        </form>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Review Guidelines Section -->
        <section>
            <h3>Review Guidelines</h3>
            <form method="post" action="{{ url_for('update_review_guidelines') }}">
                <textarea name="review_guidelines" rows="8" style="width:100%;" required>{{ review_guidelines }}</textarea>
                <br>
                <button type="submit">Update Guidelines</button>
            </form>
        </section>
    </main>
</body>
</html>